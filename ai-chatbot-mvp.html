<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç - MVP</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .chat-container {
            height: 400px;
            overflow-y: auto;
            padding: 20px;
            background: #f8f9fa;
        }
        
        .message {
            margin-bottom: 15px;
            padding: 12px 16px;
            border-radius: 18px;
            max-width: 80%;
            animation: fadeIn 0.3s ease-in;
        }
        
        .user-message {
            background: #007bff;
            color: white;
            margin-left: auto;
            text-align: right;
        }
        
        .ai-message {
            background: #e9ecef;
            color: #333;
            border-left: 4px solid #667eea;
        }
        
        .input-area {
            padding: 20px;
            background: white;
            border-top: 1px solid #e9ecef;
            display: flex;
            gap: 10px;
        }
        
        #userInput {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
        }
        
        #userInput:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        button {
            padding: 12px 24px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: transform 0.2s;
        }
        
        button:hover {
            transform: translateY(-2px);
        }
        
        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .typing-indicator {
            display: none;
            padding: 12px 16px;
            background: #e9ecef;
            border-radius: 18px;
            max-width: 80%;
            color: #666;
            font-style: italic;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .status {
            text-align: center;
            padding: 10px;
            font-size: 14px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ AI-–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç "–ñ–∏–≤–æ–π –ö–Ω–∏–≥–∏"</h1>
            <p>–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ—É—á –ø–æ –º–∏–∫—Ä–æ-–æ—á–∏—Å—Ç–∫–µ</p>
        </div>
        
        <div class="chat-container" id="chatContainer">
            <div class="ai-message">
                <strong>üßπ AI-–ö–æ—É—á:</strong> –ü—Ä–∏–≤–µ—Ç! –Ø –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ —Å–∏—Å—Ç–µ–º–µ –º–∏–∫—Ä–æ-–æ—á–∏—Å—Ç–∫–∏. –ì–æ—Ç–æ–≤ –ø–æ–º–æ—á—å –≤–∞–º –Ω–∞–≤–µ—Å—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –≤ –∂–∏–∑–Ω–∏! –û —á–µ–º —Ö–æ—Ç–∏—Ç–µ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å?
            </div>
        </div>
        
        <div class="typing-indicator" id="typingIndicator">
            ü§ñ AI –¥—É–º–∞–µ—Ç...
        </div>
        
        <div class="input-area">
            <input type="text" id="userInput" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å..." maxlength="500">
            <button onclick="sendMessage()" id="sendButton">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>
        
        <div class="status" id="status">
            –°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Puter.js -->
    <script src="https://js.puter.com/v2/"></script>
    
    <script>
        // –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è AI-–∫–æ—É—á–∞
        const COACH_PROMPT = `–¢—ã –æ–ø—ã—Ç–Ω—ã–π –∫–æ—É—á –ø–æ —Å–∏—Å—Ç–µ–º–µ "–º–∏–∫—Ä–æ-–æ—á–∏—Å—Ç–∫–∞" –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ "–ñ–∏–≤–∞—è –ö–Ω–∏–≥–∞".

–¢–í–û–Ø –†–û–õ–¨: –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –Ω–∞–≤–µ–¥–µ–Ω–∏—é –ø–æ—Ä—è–¥–∫–∞.

–ü–†–ò–ù–¶–ò–ü–´ –ú–ò–ö–†–û-–û–ß–ò–°–¢–ö–ò:
- –ú–∞–ª–µ–Ω—å–∫–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –±–æ–ª—å—à–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è–º
- 5-15 –º–∏–Ω—É—Ç –≤ –¥–µ–Ω—å –Ω–∞ —É–±–æ—Ä–∫—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–æ–Ω—ã
- –°–∏—Å—Ç–µ–º–∞ "–æ–¥–Ω–∞ –≤–µ—â—å - –æ–¥–Ω–æ –º–µ—Å—Ç–æ"
- –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–≤—ã—á–µ–∫
- –§–æ–∫—É—Å –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å–µ, –∞ –Ω–µ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ

–¢–í–û–ô –°–¢–ò–õ–¨:
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π –∏ –º–æ—Ç–∏–≤–∏—Ä—É—é—â–∏–π
- –ü—Ä–∞–∫—Ç–∏—á–Ω—ã–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ–≤–µ—Ç—ã
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥
- –ö–æ—Ä–æ—Ç–∫–∏–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (–º–∞–∫—Å–∏–º—É–º 3-4 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
- –ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ –¥–ª—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç:`;

        let conversationHistory = [];

        function addMessage(message, isUser = false) {
            const chatContainer = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = isUser ? 'message user-message' : 'message ai-message';
            
            if (isUser) {
                messageDiv.innerHTML = `<strong>–í—ã:</strong> ${message}`;
            } else {
                messageDiv.innerHTML = `<strong>üßπ AI-–ö–æ—É—á:</strong> ${message}`;
            }
            
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function showTyping(show) {
            const indicator = document.getElementById('typingIndicator');
            indicator.style.display = show ? 'block' : 'none';
            
            if (show) {
                document.getElementById('chatContainer').appendChild(indicator);
                document.getElementById('chatContainer').scrollTop = document.getElementById('chatContainer').scrollHeight;
            }
        }

        function updateStatus(message) {
            document.getElementById('status').textContent = `–°—Ç–∞—Ç—É—Å: ${message}`;
        }

        async function sendMessage() {
            const input = document.getElementById('userInput');
            const sendButton = document.getElementById('sendButton');
            const userMessage = input.value.trim();
            
            if (!userMessage) return;
            
            // –û—Ç–∫–ª—é—á–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            input.disabled = true;
            sendButton.disabled = true;
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            addMessage(userMessage, true);
            input.value = '';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏
            showTyping(true);
            updateStatus('–û–±—Ä–∞—â–∞—é—Å—å –∫ AI...');
            
            try {
                // –§–æ—Ä–º–∏—Ä—É–µ–º –ø–æ–ª–Ω—ã–π –ø—Ä–æ–º–ø—Ç
                const fullPrompt = `${COACH_PROMPT} "${userMessage}"`;
                
                // –û–±—Ä–∞—â–∞–µ–º—Å—è –∫ Puter.js AI
                const response = await puter.ai.chat(fullPrompt, {
                    model: 'gpt-4o-mini' // –ë—ã—Å—Ç—Ä–∞—è –º–æ–¥–µ–ª—å –¥–ª—è MVP
                });
                
                // –°–∫—Ä—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏
                showTyping(false);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç AI
                addMessage(response);
                updateStatus('–ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ');
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
                conversationHistory.push({
                    user: userMessage,
                    ai: response,
                    timestamp: new Date()
                });
                
            } catch (error) {
                showTyping(false);
                addMessage(`–ò–∑–≤–∏–Ω–∏—Ç–µ, –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: ${error.message}. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.`);
                updateStatus('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è');
                console.error('AI Error:', error);
            }
            
            // –í–∫–ª—é—á–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±—Ä–∞—Ç–Ω–æ
            input.disabled = false;
            sendButton.disabled = false;
            input.focus();
        }

        // –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        function quickTest(question) {
            document.getElementById('userInput').value = question;
            sendMessage();
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ Enter
        document.getElementById('userInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        // –ê–≤—Ç–æ—Ñ–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ –≤–≤–æ–¥–∞
        window.onload = function() {
            document.getElementById('userInput').focus();
            updateStatus('–°–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
        };

        // –î–æ–±–∞–≤–ª—è–µ–º –±—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ)
        setTimeout(() => {
            const container = document.querySelector('.input-area');
            const quickButtons = document.createElement('div');
            quickButtons.innerHTML = `
                <div style="margin-top: 10px; text-align: center;">
                    <button onclick="quickTest('–ö–∞–∫ –Ω–∞—á–∞—Ç—å –º–∏–∫—Ä–æ-–æ—á–∏—Å—Ç–∫—É?')" style="margin: 5px; padding: 8px 12px; font-size: 14px;">–ö–∞–∫ –Ω–∞—á–∞—Ç—å?</button>
                    <button onclick="quickTest('–ü–ª–∞–Ω –Ω–∞ –Ω–µ–¥–µ–ª—é')" style="margin: 5px; padding: 8px 12px; font-size: 14px;">–ü–ª–∞–Ω –Ω–∞ –Ω–µ–¥–µ–ª—é</button>
                    <button onclick="quickTest('–ú–æ—Ç–∏–≤–∞—Ü–∏—è')" style="margin: 5px; padding: 8px 12px; font-size: 14px;">–ú–æ—Ç–∏–≤–∞—Ü–∏—è</button>
                </div>
            `;
            container.appendChild(quickButtons);
        }, 1000);
    </script>
</body>
</html>